<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>保存 iframe 内容为 HTML 文件</title>
</head>

<body>
    <h1>保存 iframe 内容为 HTML 文件</h1>
    <iframe id="myIframe" srcdoc="<h2>Hello, World!</h2><p>This is some content inside the iframe.</p>" width="600"
        height="400"></iframe>
    <br>
    <button id="saveButton">保存为 HTML 文件</button>

    <script>
        document.getElementById('saveButton').addEventListener('click', function () {
            // 获取 iframe 内的内容
            const iframe = document.getElementById('myIframe');
            const iframeContent = iframe.contentDocument.documentElement.outerHTML;

            // 创建一个 Blob 对象
            const blob = new Blob([iframeContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);

            // 创建一个下载链接并触发下载
            const a = document.createElement('a');
            a.href = url;
            a.download = 'iframe-content.html';  // 设置保存的文件名
            document.body.appendChild(a);
            a.click();

            // 清理
            setTimeout(() => {
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }, 0);
        });
    </script>
</body>

</html>